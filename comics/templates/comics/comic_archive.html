{% extends "base.html" %}
{% block main_content %}

	{% load static %}
  	<!-- Bootstrap core CSS -->
  	<link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  	<link href="{% static 'css/blog-post.css' %}" rel="stylesheet">



	<div class = "container pt-1">	
		<div class = "row">
			<!-- form -->
			<div class = "col-lg-4 col-sm-12 engirls_font_norm">
				<form class="form" method="GET">
					{% csrf_token %}
					<table class="table table-striped table-borderless">
					  <thead>
					    <tr>
					      <th scope="col">Filter Comics: </th>
					      <th scope="col"></th>
					    </tr>
					  </thead>
						  <tbody>
								{% for field in filter.form %}
									<tr>
										<th scope="row"> {{ field.name }}</th>
										<td>{{ field }}</td>
									</tr>
								{% endfor %}			    	      
						  </tbody>
					  </table>				
						<button type="submit" class="btn btn-outline-dark">Filter</button>		 
				</form>	
			<!-- col -->
			</div>

			<div class = "col-sm-12 col-lg-8">

			<!-- main comic container container -->
		  	<div class ="container py-4">
				<div class = "row">
		  			
	
						{% if comics %}
							<!-- card deck -->
							<div class = "card-deck">
							{% for comic in comics %}									

								<div class="col-sm-1 col-md-2 col-lg-3 " style = "min-width: 175px;"> 
									<div class="card mb-sm-3 mb-md-4 mb-lg-5 shadow" style="max-width:200px;min-width:150px;" >
													
										<a href="{% url 'view_panel' comic_pk=comic.pk %}">
										{% if comic.thumbnail %}
												<img class="card-img-top img-fluid" style ="max-height: 150px;" src="{{ comic.thumbnail.url }}" />	
										{% else %}	
											<div class = "col text-center">
												<h5 class= "engirls_font_large"> No image available</h5>
											</div>
											
										{% endif %}
										</a>
							  						<!-- </div> -->  					
							  			<div class = "card-header engirls_font_norm"><h5> {{ comic.title }}</h5> </div>					
									</div> 
								</div>

							{% endfor %}
							</div>

						<!-- if no comics -->
						{% else %}
							<div class = row>
				        		<div class = "col"></div>
				       		    <div class = "col my-4 text-center">
				         		 <p class = "lead engirls_font_large"> Looks like you don't have any comics! Upload some? </p>
				        		</div>
				        		<div class = "col"></div>	
				    		</div>		
						{% endif %}

				<!-- comic row -->
				</div>


				<div class = "row py-3 ml-2">
			    <div class="pagination">
			      {% if comics.paginator.num_pages > 1 %}
			      	<div class = "col-xs-1 col-md-2 col-lg-3 engirls_font_norm">
				      	#
				     </div>
						{% for num in comics.paginator.page_range %}
							<div class = "col-xs-1 col-md-2 col-lg-3 engirls_font_norm">
								<!-- Current page number -->
								{% if comics.number == num %}
									<!-- If there is existing query parameters -->
								 	{% if 'series' in request.get_full_path %}
								 		<h5><a class="text-primary" href="{{ request.get_full_path }}&page={{ num }}" >{{ num }}</a></h5>
								 	{% else %}
										<h5><a class="text-primary" href="{% url 'view_archive' %}?page={{ num }}" >{{ num }}</a></h5>
								 	{% endif %}

								 <!-- Other page numbers -->
								{% else %}
									{% if 'series' in request.get_full_path %}
										<h5><a class="text-secondary" href="{{ request.get_full_path }}&page={{ num }}">{{ num }}</a></h5>
									{%  else %}
										<h5><a class="text-secondary" href="{% url 'view_archive' %}?page={{ num }}" >{{ num }}</a></h5>
									{% endif %}
								{% endif %}
							</div>
						{% endfor %}
					</div>
				{% endif %}
				</div>

			<!-- comic container-->
			</div>

		<!-- main col -->
		</div>

	<!-- main row -->
	</div>

<!--main container -->
</div>

<div class="container py-3"></div>

<script> 


</script>

 <!-- Bootstrap core JavaScript -->
 <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
 <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

 {% endblock %}